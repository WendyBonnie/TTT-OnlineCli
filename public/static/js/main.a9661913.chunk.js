(this.webpackJsonpttt_front=this.webpackJsonpttt_front||[]).push([[0],{100:function(e,t,a){},105:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},142:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(24),l=a.n(o),c=a(7),s=a(8),i=a(10),m=a(9),u=a(13),p=(a(100),a(4)),d=a(11),h=a(21),f=a(18),g=a(12),E=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInput=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.addNewRegister=function(e){e.preventDefault();var t=new FormData(e.target),a=new Headers({"X-Requested-With":"XMLHttpRequest"});fetch("https://back-end.osc-fr1.scalingo.io/client/register",{method:"POST",body:t,headers:a}).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message})}),(function(e){console.log(e)}))},n.state={lastname:""},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"bigBlocClient"},r.a.createElement(h.a,{className:"blocprincipalClient "},r.a.createElement(f.a,{className:"creerInscr"},r.a.createElement(g.a,{className:"colInscr",xs:12,s:12,md:7},r.a.createElement("h1",{className:"TitreInscription"},"Cr\xe9er mon compte "),r.a.createElement("p",{className:"sous-titre"},"Merci de remplir les informations ci-dessous pour finaliser la cr\xe9ation de votre compte."),r.a.createElement(p.a,{onSubmit:this.addNewRegister},r.a.createElement(p.a.Group,{controlId:"formName"},r.a.createElement(p.a.Control,{type:"text",placeholder:"Nom",name:"lastname",onChange:this.handleInput})),r.a.createElement(p.a.Group,{controlId:"formFirstName"},r.a.createElement(p.a.Control,{type:"text",placeholder:"Pr\xe9nom",name:"firstname",onChange:this.handleInput})),r.a.createElement(p.a.Group,{controlId:"formEmail"},r.a.createElement(p.a.Control,{type:"mail",placeholder:"Email",name:"email",onChange:this.handleInput})),r.a.createElement(p.a.Group,{controlId:"formPassword"},r.a.createElement(p.a.Control,{type:"password",placeholder:"Mot de passe",name:"password",onChange:this.handleInput})),r.a.createElement(p.a.Group,{controlId:"formGender"},r.a.createElement(p.a.Control,{as:"select",type:"text",name:"gender",onChange:this.handleInput},r.a.createElement("option",null,"-"),r.a.createElement("option",null,"Femme (facultatif)"),r.a.createElement("option",null,"Homme (facultatif)"))),r.a.createElement(p.a.Group,{controlId:"formAdress"},r.a.createElement(p.a.Control,{type:"text",placeholder:"Ville",name:"adress",onChange:this.handleInput})),r.a.createElement(p.a.Group,{controlId:"formPhone"},r.a.createElement(p.a.Control,{type:"text",placeholder:"T\xe9l\xe9phone",name:"phone",onChange:this.handleInput})),r.a.createElement(p.a.Group,{controlId:"formAge"},r.a.createElement(p.a.Control,{type:"text",placeholder:"Age (facultatif)",name:"age",onChange:this.handleInput})),r.a.createElement(p.a.Group,{controlId:"formBasicCheckbox"},r.a.createElement(p.a.Check,{className:"checkboxCGU",type:"checkbox",name:"acceptTTT",label:"J'accepte la r\xe9ception de courriers \xe9lectroniques et de SMS publicitaires de la part de Tipourboire",onChange:this.handleInput}),r.a.createElement(p.a.Check,{className:"checkboxCGU",type:"checkbox",name:"acceptTier",label:"J'accepte la r\xe9ception de courriers \xe9lectroniques et de SMS publicitaires de la part de tiers",onChange:this.handleInput}),r.a.createElement(p.a.Check,{className:"checkboxCGU",type:"checkbox",name:"acceptControl",label:"J'ai lu et j'accepte les CGU et CGV",onChange:this.handleInput,required:!0}),r.a.createElement("a",{className:"cgvLink",href:"/CGV_TIPTOTHANK.pdf",target:"_blanck"},"CGU et CGV")),r.a.createElement(d.a,{className:"buttonInscri",type:"submit",variant:"primary",block:!0},"S'inscrire")),r.a.createElement("p",{className:"annonce"},"*TIPOURBOIRE est responsable du traitement des donn\xe9es personnelles collect\xe9es sur ce site. Elles sont collect\xe9es aux fins de : l'ex\xe9cution du contrat/vous informer de nos nouveaut\xe9s et actualit\xe9s/\xe0 des fins statistiques, les bases l\xe9gales respectives des traitements pouvant \xeatre l'ex\xe9cution du contrat, l'int\xe9r\xeat l\xe9gitime, ou le consentement. Pour plus d'informations voir notre politique de confidentialit\xe9."),r.a.createElement("br",null),r.a.createElement("p",null,this.state.message)))))}}]),a}(n.Component),b=(a(104),a(105),a(15)),v=a(92),C=a.n(v),y=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).change=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.loginClient=function(e){e.preventDefault();var t={email:n.state.email,password:n.state.password},a=new Headers({"Content-Type":"application/json"}),r={method:"POST",body:JSON.stringify(t),headers:a};fetch("https://back-end.osc-fr1.scalingo.io/client/login",r).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message}),n.setState({message:e.message}),e.token&&(localStorage.setItem("token",e.token),localStorage.setItem("userID",e.userId),n.props.setLogin(!0),n.props.history.push("/Profil"+window.location.search))}),(function(e){console.log(e)}))},n.state={email:null,password:null},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(h.a,{className:"connexion-container"},r.a.createElement(C.a,Object(u.a)({location:"top",buttonText:"J'accepte",declineButtonText:"Je refuse",expires:30,enableDeclineButton:!0,onDecline:function(){alert("Le refus de nos cookies vous permets tout de m\xeame une bonne navigation sur notre site. A bientot :)")},cookieName:"Tipourboire",style:{background:"#ffffff",color:"#555"},declineButtonStyle:{borderRadius:12,padding:8,color:"#fff",fontSize:"18px",background:"#f5a624",fontWeight:"bold"},buttonStyle:{borderRadius:12,padding:8,color:"#fff",fontSize:"18px",background:"#f5a624",fontWeight:"bold"}},"style",{fontSize:"20px",fontfamily:"Montserrat",fontWeight:"bold"}),"Le Site Tipourboire utilise diff\xe9rents cookies afin d\u2019am\xe9liorer ses services et effectuer des suivis d\u2019audience. Certains cookies sont indispensables au fonctionnement du Site. Vous pouvez accepter ces cookies, les refuser, ou g\xe9rer vos pr\xe9f\xe9rences. Vous pouvez consulter notre"," ",r.a.createElement("a",{href:"/cookies/POLITIQUE_DE_COOKIES.pdf",target:"_blank",style:{fontSize:"20px",fontfamily:"Montserrat",fontWeight:"bold"}},"Politique de cookies")),r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement("h1",null,"D\xe9ja membre ? "),r.a.createElement("h1",null,"Connectez-vous !"))),r.a.createElement(p.a.Group,{controlId:"formBasicEmail"},r.a.createElement(p.a.Control,{name:"email",type:"email",ClassName:"formMail",placeholder:"Votre e-mail",id:"email",onChange:this.change,value:this.state.email}),r.a.createElement(p.a.Control,{name:"password",type:"password",ClassName:"formMail",placeholder:"Votre mot de passe",id:"password",onChange:this.change,value:this.state.password})),r.a.createElement(g.a,{className:"colMdp",xs:12,md:12},r.a.createElement(b.b,{className:"forgetpwd",to:"/passwordReset"},r.a.createElement("p",null,"Mot de passe oubli\xe9 ?"))),r.a.createElement(g.a,{md:12,className:"blocCompte"},r.a.createElement(d.a,{className:"connectButton",onClick:this.loginClient},"Se connecter"),r.a.createElement("p",null,this.state.message)),r.a.createElement(g.a,{className:"alignRight"},r.a.createElement(p.a.Label,{className:"text2"},"Pas encore membre ?"," ",r.a.createElement(b.b,{className:"creerCompte",to:"/Inscription"},"Cr\xe9er mon compte"))))}}]),a}(n.Component),N=(a(108),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),console.log(),(n=t.call(this,e)).click=function(){n.props.history.push({pathname:"/ListeServeurs"})},n.postDataClient=function(){var e=new Headers({"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}),t={userId:localStorage.getItem("userId")},a={method:"POST",body:JSON.stringify(t),headers:e};fetch("https://back-end.osc-fr1.scalingo.io/client/getDataClient",a).then((function(e){return e.json()})).then((function(e){var t=e;n.setState({client:t,object:t}),console.log(n.state)}),(function(e){console.log(e)}))},n.deleteClient=function(e){window.confirm("Etes-vous sur de vouloir supprimer votre compte? Cette action est irr\xe9versible."),e.preventDefault();var t={userId:localStorage.getItem("userID"),client:n.state.client},a=new Headers({"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}),r={method:"DELETE",body:JSON.stringify(t),headers:a};fetch("https://back-end.osc-fr1.scalingo.io/client/delete",r).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message}),alert("La suppression de votre compte a bien \xe9t\xe9 prise en compte. Merci."),n.props.history.push("/Home")}),(function(e){console.log(e)}))},n.signOut=function(){localStorage.clear(),n.props.history.push("/")},n.state={client:{historique:[]}},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.postDataClient()}},{key:"render",value:function(){return r.a.createElement(h.a,{className:"blocprincipalProfil "},r.a.createElement(d.a,{className:"buttontip",variant:"warning",size:"sm",onClick:this.click},"POURBOIRE"),r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement("h1",{className:"Titre-profil"},"Mon Profil Client"),r.a.createElement("div",{className:"infoProfil"},r.a.createElement("p",null,this.state.client.firstname," ",this.state.client.lastname),r.a.createElement("p",{className:"profilPara"},this.state.client.adress),r.a.createElement("p",{className:"profilPara"},this.state.client.phone)))),r.a.createElement(f.a,null,r.a.createElement(g.a,{s:12,xs:12,md:6},r.a.createElement(b.b,{to:"/modifierMonProfil"+window.location.search,className:"modif"},r.a.createElement(d.a,{className:"buttonedit",type:"submit"},"Mettre \xe0 jour mon profil"))),r.a.createElement(g.a,{s:12,xs:12,md:6},r.a.createElement(b.b,{to:"/ListeServeurs"+window.location.search,className:"modif"},r.a.createElement(d.a,{className:"buttonedit",type:"submit"},"Donner un pourboire"))),r.a.createElement(g.a,{s:12,xs:12,md:6},r.a.createElement(b.b,{to:"/Historique"+window.location.search,className:"modif"},r.a.createElement(d.a,{className:"buttonedit",type:"submit"},"Historique de mes dons"))),r.a.createElement(g.a,{s:12,xs:12,md:6},r.a.createElement("div",{className:"Titre"},r.a.createElement(d.a,{className:"buttondeco",variant:"outline-warning",type:"submit",onClick:this.signOut},"Se d\xe9connecter"))),r.a.createElement("p",null,this.state.message)))}}]),a}(n.Component)),I=a(17),S=(a(109),a(22)),w=a(159),x=a(158),O=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).deleteProfil=function(e){var t={userId:localStorage.getItem("userID"),profil:n.state.profil},a=new Headers({"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}),r={method:"DELETE",body:JSON.stringify(t),headers:a};fetch("https://back-end.osc-fr1.scalingo.io/client/delete",r).then((function(e){return e.json()})).then((function(){window.location.href="https://client.tipourboire.com/"}),(function(e){console.log(e)}))},n.modalDelete=function(){return r.a.createElement(S.a,{show:n.state.showModal,onHide:function(){n.setState({showModal:!1})}},r.a.createElement(S.a.Header,{closeButton:!0},r.a.createElement(S.a.Title,{className:"modalTitle"},"Supprimer mon compte")),r.a.createElement(S.a.Body,{className:"modalBody"},"Etes vous sur de vouloir supprimer votre compte Tipourboire ?"," "),r.a.createElement(S.a.Footer,null,r.a.createElement(d.a,{className:"modalButtonDelete",variant:"secondary",onClick:function(){n.deleteProfil()}},"Supprimer"),r.a.createElement(d.a,{className:"modalButtonDelete",variant:"primary",onClick:function(){n.setState({showModal:!1})}},"Annuler")))},n.state={showModal:!1},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"footer"},this.modalDelete(),r.a.createElement(w.a,{fixed:"bottom",collapseOnSelect:!0,expand:"lg",bg:"#edeaea"},r.a.createElement(w.a.Brand,{href:"#home",className:"textFooter"},"@Tipourboire"),r.a.createElement(w.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(w.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(x.a,{className:"mr-auto"},r.a.createElement(x.a.Link,{href:"mentionsLegales/mentionsL\xe9gales.pdf",className:"textFooter"},"Mentions L\xe9gales"),r.a.createElement(x.a.Link,{href:"cgu-cgv/CGA.pdf",className:"textFooter"},"CGA"),r.a.createElement(x.a.Link,{href:"confidentialit\xe9/Politique_de_confidentialit\xe9_client.pdf",className:"textFooter"},"Confidentialit\xe9"),r.a.createElement(x.a.Link,Object(u.a)({href:"",className:"textFooter"},"href","cookies/POLITIQUE_DE_COOKIES.pdf"),"Cookies"),r.a.createElement(x.a.Link,{href:"mailto:contact@tipourboire.com",className:"textFooter"},"Contact"),r.a.createElement(x.a.Link,{className:"textFooter",onClick:function(){return e.setState({showModal:!0})}},"Supprimer mon compte")),r.a.createElement(x.a,null,r.a.createElement(x.a.Link,{eventKey:2,href:"#memes",className:"textFooter"},"A propos")),r.a.createElement("img",{className:"imgMango",src:"/logoTTT/mangopay-terms.png"}))))}}]),a}(n.Component),j=(a(110),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(h.a,{className:"ContainerHome"},r.a.createElement(f.a,{className:"blocHome"},r.a.createElement(g.a,{xs:12,md:6},r.a.createElement("h1",null,"Donner un Tip"),r.a.createElement("h2",null,"Sans compte client"),r.a.createElement("p",null,"Donner un pourboire sans cr\xe9er de compte"),r.a.createElement(b.b,{to:"/ListeServeurs"+window.location.search},r.a.createElement(d.a,{className:"rowButton"},"Donner un pourboire"))),r.a.createElement(g.a,{xs:12,md:6},r.a.createElement("h1",null,"Donner un Tip"),r.a.createElement("h2",null,"Avec compte client"),r.a.createElement("p",null,"Me connecter \xe0 mon espace Tipourboire"),r.a.createElement(b.b,{to:"/"+window.location.search},r.a.createElement(d.a,{className:"rowButton"},"Donner un pourboire")))))}}]),a}(n.Component)),k=a(156),T=a(62);a(111);a(112);var P=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getDataServeurs=function(e){var t={method:"GET",headers:new Headers({"Content-Type":"application/json"})};fetch("https://back-end.osc-fr1.scalingo.io/client/getDataServeur"+window.location.search,t).then((function(e){return e.json()})).then((function(e){console.log(e),n.setState({serveur:e}),console.log(n.state.serveur.pourboireGeneral),localStorage.setItem("restaurantName",e.restaurantName),localStorage.setItem("@idRestaurant",e._id),localStorage.setItem("serveurReferent",e.referent.email),console.log(e)}),(function(e){console.log(e)}))},n.display=function(){return!0===n.state.serveur.pourboireIndividuel?n.state.serveur.tabServeur.filter((function(e){return"Manager (Pas de bourboire)"!=e.serveurPoste})).map((function(e,t){return r.a.createElement(h.a,{fluid:!0},r.a.createElement(f.a,{className:"rowImage"},r.a.createElement(g.a,null,r.a.createElement(k.a,{src:"https://s3.amazonaws.com/b.c.bucket.tipourboire/"+e.serveurPicture}))),r.a.createElement(f.a,{className:"rowTitre2"},r.a.createElement(g.a,{s:12},r.a.createElement("p",null,e.serveurName))),r.a.createElement(f.a,{className:"butTips"},r.a.createElement(g.a,null,r.a.createElement(d.a,{onClick:function(){localStorage.setItem("@mailServeur",e.serveurMail),n.props.history.push("/information-client"+window.location.search)}},"Donner un Pourboire"))))})):void 0},n.displayGeneral=function(){return!0===n.state.serveur.pourboireGeneral&&!1===n.state.serveur.pourboireIndividuel?r.a.createElement(h.a,{className:"tipsTrueFalse"},r.a.createElement(f.a,null,r.a.createElement(g.a,{className:"colButton"},r.a.createElement(d.a,{onClick:function(){n.props.history.push("/TipCommun"+window.location.search)}},"Donner \xe0 toute l'\xe9quipe !"))),n.state.serveur.tabServeur.filter((function(e){return"Manager (Pas de bourboire)"!=e.serveurPoste})).map((function(e,t){return r.a.createElement(h.a,{fluid:!0},r.a.createElement(f.a,{className:"rowImage"},r.a.createElement(g.a,null,r.a.createElement(k.a,{src:"https://s3.amazonaws.com/b.c.bucket.tipourboire/"+e.serveurPicture}))),r.a.createElement(f.a,{className:"rowTitre2"},r.a.createElement(g.a,{s:12},r.a.createElement("p",null,e.serveurName))))}))):!0===n.state.serveur.pourboireGeneral&&!0===n.state.serveur.pourboireIndividuel?r.a.createElement(h.a,null,r.a.createElement(f.a,null," ",r.a.createElement(g.a,{className:"colButton"},r.a.createElement(d.a,{onClick:function(){n.props.history.push("/TipCommun"+window.location.search)}},"Donner \xe0 toute l'\xe9quipe !"))),n.state.serveur.tabServeur.filter((function(e){return"Manager (Pas de bourboire)"!=e.serveurPoste})).map((function(e,t){return r.a.createElement(h.a,{fluid:!0},r.a.createElement(f.a,{className:"rowImage"},r.a.createElement(g.a,null,r.a.createElement(k.a,{src:"https://s3.amazonaws.com/b.c.bucket.tipourboire/"+e.serveurPicture}))),r.a.createElement(f.a,{className:"rowTitre2"},r.a.createElement(g.a,{s:12},r.a.createElement("p",null,e.serveurName))),r.a.createElement(f.a,{className:"butTips"},r.a.createElement(g.a,null,r.a.createElement(d.a,{onClick:function(){localStorage.setItem("@mailServeur",e.serveurMail),n.props.history.push("/information-client"+window.location.search)}},"Donner un Pourboire"))))}))):n.state.serveur.tabServeur.filter((function(e){return"Manager (Pas de bourboire)"!=e.serveurPoste})).map((function(e,t){return r.a.createElement(h.a,{fluid:!0},r.a.createElement(f.a,{className:"rowImage"},r.a.createElement(g.a,null,r.a.createElement(k.a,{src:"https://s3.amazonaws.com/b.c.bucket.tipourboire/"+e.serveurPicture}))),r.a.createElement(f.a,{className:"rowTitre2"},r.a.createElement(g.a,{s:12},r.a.createElement("p",null,e.serveurName))),r.a.createElement(f.a,{className:"butTips"},r.a.createElement(g.a,null,r.a.createElement(d.a,{onClick:function(){localStorage.setItem("@mailServeur",e.serveurMail),n.props.history.push("/information-client"+window.location.search)}},"Donner un Pourboire"))))}))},n.state={serveur:{tabServeur:[]}},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getDataServeurs(),console.log("serveur",this.state.serveur)}},{key:"render",value:function(){return r.a.createElement(h.a,{className:"blocPrincipalClient"},r.a.createElement(f.a,{className:"vousEtes"},r.a.createElement(g.a,{className:"colLieu",s:12},r.a.createElement(k.a,{className:"logoPicture",src:"https://s3.amazonaws.com/b.c.bucket.tipourboire/"+this.state.serveur.logo}),r.a.createElement("h1",{className:"Titre"},"Lieu : ",this.state.serveur.restaurantName),r.a.createElement(k.a,null))),r.a.createElement(f.a,null,r.a.createElement(g.a,null,this.displayGeneral())))}}]),a}(n.Component),D=(a(113),a(157)),M=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).connect=function(){return n.props.login?r.a.createElement(D.a,{className:"nav justify-content-right"},r.a.createElement(D.a.Toggle,{alignRight:!0,variant:"success",id:"dropdown-basic"},r.a.createElement("img",{src:"/logoTTT/user.png"})),r.a.createElement(D.a.Menu,null,r.a.createElement(D.a.Item,{href:"/Profil"+window.location.search},"Mon profil"),r.a.createElement(D.a.Item,{onClick:function(){window.confirm("Voulez vous vous d\xe9connecter ?"),localStorage.clear(),n.props.setLogin(!1),n.props.history.push("/")},href:"/"},"Deconnexion"))):r.a.createElement(D.a,{className:"nav justify-content-right"},r.a.createElement(D.a.Toggle,{alignRight:!0,variant:"success",id:"dropdown-basic"},r.a.createElement("img",{src:"/logoTTT/user.png"})),r.a.createElement(D.a.Menu,null,r.a.createElement(D.a.Item,{href:"/"},"Connexion"),r.a.createElement(D.a.Item,{href:"/Inscription"},"Inscription")))},n.state={},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.connect(),console.log("............",this.props.login)}},{key:"render",value:function(){return r.a.createElement(h.a,{fluid:!0},r.a.createElement(f.a,{className:"partie1"},this.connect(),r.a.createElement(g.a,{className:"logoPartie1",md:12},r.a.createElement("img",{src:"/logoTTT/logoJaune.png"}))))}}]),a}(n.Component),G=a(37),R=a.n(G),H=a(54),L=a(65),A=(a(115),Object(L.a)("pk_live_51HAxRlHoh2Vgz5Qdxu3AGz9GC1q2B453vaXplDn3J0Q5wXRCZqwkuoCG5O1Nsr1VsbNIHmjVWj7XJo9cZmljPw7L00wQbxBO6Y")),B=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).postDataClient=function(){var e=new Headers({"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}),t={userId:localStorage.getItem("userId")},a={method:"POST",body:JSON.stringify(t),headers:e};fetch("https://back-end.osc-fr1.scalingo.io/client/getDataClient",a).then((function(e){return e.json()})).then((function(e){var t=e;n.setState({client:t,object:t})}),(function(e){console.log(e)}))},n.app=function(){var e=Object(H.a)(R.a.mark((function e(t){var a,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A;case 2:return a=e.sent,e.next=5,a.redirectToCheckout({lineItems:[{price:"price_1HlxiJHoh2Vgz5Qd1ZLHrP5G",quantity:10}],mode:"payment",successUrl:"https://back-end.osc-fr1.scalingo.io/client/transfert?qte=10&mail="+n.state.client.email+"&RN="+localStorage.getItem("restaurantName"),cancelUrl:"https://client.tipourboire.com/ListeServeurs"});case 5:r=e.sent,r.error;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.app1=function(){var e=Object(H.a)(R.a.mark((function e(t){var a,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A;case 2:return a=e.sent,e.next=5,a.redirectToCheckout({lineItems:[{price:"price_1HlxiJHoh2Vgz5Qd1ZLHrP5G",quantity:2}],mode:"payment",successUrl:"https://back-end.osc-fr1.scalingo.io/client/transfert?qte=2&mail="+n.state.client.email+"&RN="+localStorage.getItem("restaurantName"),cancelUrl:"https://client.tipourboire.com/ListeServeurs"});case 5:r=e.sent,r.error;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.app2=function(){var e=Object(H.a)(R.a.mark((function e(t){var a,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A;case 2:return a=e.sent,e.next=5,a.redirectToCheckout({lineItems:[{price:"price_1HlxiJHoh2Vgz5Qd1ZLHrP5G",quantity:5}],mode:"payment",successUrl:"https://back-end.osc-fr1.scalingo.io/client/transfert?qte=5&mail="+n.state.client.email+"&RN="+localStorage.getItem("restaurantName"),cancelUrl:"https://client.tipourboire.com/ListeServeurs"});case 5:r=e.sent,r.error;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.appChoice=function(){var e=Object(H.a)(R.a.mark((function e(t){var a,r,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.state.amount<=1)){e.next=5;break}return window.alert("Le montant minimum du tips doit \xeatre de 2 euros"),e.abrupt("return");case 5:return e.next=7,A;case 7:return a=e.sent,r=n.state.amount,e.next=11,a.redirectToCheckout({lineItems:[{price:"price_1HlxiJHoh2Vgz5Qd1ZLHrP5G",quantity:Number(r)}],mode:"payment",successUrl:"https://back-end.osc-fr1.scalingo.io/client/transfert?qte="+r+"&mail="+n.state.client.email+"&RN="+localStorage.getItem("restaurantName"),cancelUrl:"https://client.tipourboire.com/ListeServeurs"});case 11:o=e.sent,o.error;case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.change=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.state={amount:0,client:{}},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.postDataClient()}},{key:"render",value:function(){return r.a.createElement(h.a,{className:"check"},r.a.createElement("div",{className:"blocTips"},r.a.createElement("div",{className:"allButton"},r.a.createElement("h1",{className:"titleTips"},"Don Tipourboire"),r.a.createElement(f.a,{className:"RowPourboire"},r.a.createElement(g.a,null,r.a.createElement(d.a,{className:"tipButton1",onClick:this.app1},"2 \u20ac")),r.a.createElement(g.a,null,r.a.createElement(d.a,{className:"tipButton2",onClick:this.app2},"5 \u20ac")),r.a.createElement(g.a,null,r.a.createElement(d.a,{className:"tipButton3",onClick:this.app},"10 \u20ac")))),r.a.createElement("h1",{className:"amount"},"Don libre"),r.a.createElement(f.a,null,r.a.createElement(g.a,{xs:12,s:12,md:12},r.a.createElement(p.a,null,r.a.createElement(p.a.Group,{controlId:"formGroupAmount"},r.a.createElement(p.a.Control,{name:"amount",type:"number",placeholder:"Montant",onChange:this.change,value:this.state.amount}))))),r.a.createElement("p",{className:"amountMsg"},"(Veuillez saisir uniquement des chiffres entiers)"),r.a.createElement(d.a,{className:"validAmount",variant:"primary",type:"submit",onClick:this.appChoice},"Valider")))}}]),a}(n.Component),J=Object(L.a)("pk_live_51HAxRlHoh2Vgz5Qdxu3AGz9GC1q2B453vaXplDn3J0Q5wXRCZqwkuoCG5O1Nsr1VsbNIHmjVWj7XJo9cZmljPw7L00wQbxBO6Y"),z=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).Nocompte=function(){return r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement("p",null,"Tipourboire ne collecte aucune information"),r.a.createElement("p",null,r.a.createElement(b.b,{to:"https://stripe.com/payment-terms/legal"},"CGU Stripe"))))},n.state={_id:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T.Elements,{stripe:J},r.a.createElement(B,null)))}}]),a}(n.Component),q=a(149),V=(a(116),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getDailyMenu=function(){var e={method:"GET",headers:new Headers({"Content-Type":"application/json"})};fetch("https://back-end.osc-fr1.scalingo.io/client/menu"+window.location.search,e).then((function(e){return e.json()})).then((function(e){var t=e;n.setState({db1:t}),n.setState({menu:n.state.db1.menu.dailyMenu.picture})}),(function(e){console.log(e)}))},n.state={db1:{},menu:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getDailyMenu()}},{key:"render",value:function(){return r.a.createElement(h.a,{className:"blocprincipal"},r.a.createElement(q.a,null,r.a.createElement("h2",{className:"Titre"},"MENU DU JOUR"),r.a.createElement("h2",{className:"Titre"},this.state.db1.restaurantName),r.a.createElement(q.a.Body,null,r.a.createElement("p",{className:"datemenu"})),r.a.createElement("a",{href:"https://s3.amazonaws.com/b.c.bucket.tipourboire/"+this.state.menu,target:"_blank"},r.a.createElement(q.a.Img,{variant:"top",src:"https://s3.amazonaws.com/b.c.bucket.tipourboire/"+this.state.menu,className:"dailyMenu",alt:"Menu du Jour"}))),r.a.createElement(f.a,null,r.a.createElement(g.a,{md:12},r.a.createElement(b.b,{to:"/Home"+window.location.search},r.a.createElement(d.a,{className:"button",variant:"outline-warning",size:"lg"},"Je donne un pourboire")))))}}]),a}(n.Component)),U=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(V,null)}}]),a}(n.Component),_=(a(117),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInput=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.passwordRenew=function(e){if(e.preventDefault(),n.state.email&&n.state.password){var t={email:n.state.email,password:n.state.password,token:n.props.match.params.token},a={method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t)};fetch("https://back-end.osc-fr1.scalingo.io/client/password-renew",a).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message})}),(function(e){console.log(e)}))}},n.state={email:"",password:"",message:""},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(h.a,{className:"renewPass"},r.a.createElement(f.a,null,r.a.createElement(g.a,{className:"PassRenewCol",md:12},r.a.createElement("h1",{className:"newPass"}," Votre nouveau mot de passe"),r.a.createElement("form",{className:"formRenew",onSubmit:this.passwordRenew},r.a.createElement("input",{className:"inputRenew",type:"email",id:"email",name:"email",onChange:this.handleInput,placeholder:"Email"}),r.a.createElement("br",null),r.a.createElement("input",{className:"inputRenew",type:"password",id:"password",name:"password",onChange:this.handleInput,placeholder:"Nouveau mot de passe"}),r.a.createElement("br",null),r.a.createElement(d.a,{className:"renewButton"},"Valider")),r.a.createElement("p",null,this.state.message))))}}]),a}(n.Component)),F=(a(118),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInput=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.passwordReset=function(e){if(e.preventDefault(),n.state.email){var t={email:n.state.email},a={method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(t)};fetch("https://back-end.osc-fr1.scalingo.io/client/password-reset",a).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message})}),(function(e){console.log(e)}))}},n.state={email:"",message:""},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(h.a,{className:"passwordReset"},r.a.createElement(f.a,null,r.a.createElement(g.a,{className:"PassResetCol",md:12},r.a.createElement("div",{className:"PassResetDiv"},r.a.createElement("h1",{className:"taille"},"Veuillez saisir votre mail "),r.a.createElement("h1",{className:"titrePass taille"},"pour r\xe9initialiser votre mot de passe"," "),r.a.createElement("form",{className:"formReset",onSubmit:this.passwordReset},r.a.createElement("input",{className:"inputReset",type:"email",id:"email",name:"email",onChange:this.handleInput,placeholder:"Email"}),r.a.createElement("button",{className:"resetButton"},"Confirmer")))),r.a.createElement(g.a,{className:"ButtonReset",md:12},r.a.createElement("p",null,this.state.message))))}}]),a}(n.Component)),W=(a(82),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInput=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.addNewStatut=function(e){e.preventDefault();var t={email:localStorage.getItem("@mailServeur"),prenom:n.state.prenom,nom:n.state.nom,texte:n.state.texte,id:n.props.serveurId},a=new Headers({"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}),r={method:"POST",body:JSON.stringify(t),headers:a};fetch("https://back-end.osc-fr1.scalingo.io/client/commentaire",r).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message}),n.props.history.push("/menu"+window.location.search)}),(function(e){console.log(e)}))},n.state={commentaires:[{nom:"",prenom:"",texte:""}]},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(h.a,{className:"contCom"},r.a.createElement(f.a,{className:"coms"},r.a.createElement(g.a,{xs:12,s:12,md:12},r.a.createElement("h1",{className:"titreCom"},"Laissez un commentaire \xe0 votre serveur"))),r.a.createElement(f.a,{className:"coms"},r.a.createElement(g.a,{xs:12,s:12,md:12},r.a.createElement(p.a.Group,null,r.a.createElement(p.a.Control,{onChange:this.handleInput,value:this.state.prenom,name:"prenom",type:"text",placeholder:"Mon pr\xe9nom"})),r.a.createElement(p.a.Group,null,r.a.createElement(p.a.Control,{onChange:this.handleInput,value:this.state.nom,name:"nom",type:"text",placeholder:"Mon nom"})),r.a.createElement("textarea",{onChange:this.handleInput,value:this.state.texte,name:"texte",type:"text",class:"form-control formCommentaire",placeholder:"Votre commentaire"})),r.a.createElement(g.a,null,r.a.createElement("button",{className:"buttonStatut",type:"submit",onClick:this.addNewStatut},"Publier")),r.a.createElement(g.a,{className:"caract"},r.a.createElement("small",null,"100 caract\xe8res maximum"))))}}]),a}(n.Component)),Q=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInput=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.addNewStatut=function(e){e.preventDefault();var t={email:localStorage.getItem("serveurReferent"),prenom:n.state.prenom,nom:n.state.nom,texte:n.state.texte,id:n.props.serveurId},a=new Headers({"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}),r={method:"POST",body:JSON.stringify(t),headers:a};fetch("https://back-end.osc-fr1.scalingo.io/client/commentaire",r).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message}),n.props.history.push("/menu"+window.location.search)}),(function(e){console.log(e)}))},n.state={commentaires:[{nom:"",prenom:"",texte:""}]},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(h.a,{className:"contCom"},r.a.createElement(f.a,{className:"coms"},r.a.createElement(g.a,{xs:12,s:12,md:12},r.a.createElement("h1",{className:"titreCom"},"Laissez un commentaire \xe0 votre serveur"))),r.a.createElement(f.a,{className:"coms"},r.a.createElement(g.a,{xs:12,s:12,md:12},r.a.createElement(p.a.Group,null,r.a.createElement(p.a.Control,{onChange:this.handleInput,value:this.state.prenom,name:"prenom",type:"text",placeholder:"Mon pr\xe9nom"})),r.a.createElement(p.a.Group,null,r.a.createElement(p.a.Control,{onChange:this.handleInput,value:this.state.nom,name:"nom",type:"text",placeholder:"Mon nom"})),r.a.createElement("textarea",{onChange:this.handleInput,value:this.state.texte,name:"texte",type:"text",class:"form-control formCommentaire",placeholder:"Votre commentaire"})),r.a.createElement(g.a,null,r.a.createElement("button",{className:"buttonStatut",type:"submit",onClick:this.addNewStatut},"Publier")),r.a.createElement(g.a,{className:"caract"},r.a.createElement("small",null,"100 caract\xe8res maximum"))))}}]),a}(n.Component),X=a(94),Z=(a(119),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).postDataClient=function(){var e=new Headers({"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}),t={userId:localStorage.getItem("userId")},a={method:"POST",body:JSON.stringify(t),headers:e};fetch("https://back-end.osc-fr1.scalingo.io/client/getDataClient",a).then((function(e){return e.json()})).then((function(e){var t=e;n.setState({client:t,object:t})}),(function(e){console.log(e)}))},n.display=function(){return n.state.client.historique.map((function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",{type:"text",id:"montant",name:"montant"}," ",e.montant/100,"\u20ac"),r.a.createElement("td",{type:"date",id:"date",name:"date"}," ",new Date(e.date).toLocaleDateString()),r.a.createElement("td",{type:"text",id:"waiter",name:"waiter"}," ",e.waiter),r.a.createElement("td",{type:"text",id:"restaurantName",name:"restaurantName"}," ",e.restaurantName))}))},n.state={client:{historique:[]}},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.postDataClient()}},{key:"render",value:function(){return r.a.createElement(h.a,{className:"histoClient"},r.a.createElement(f.a,null,r.a.createElement(g.a,{className:"titleHisto"}," ",r.a.createElement("h3",null,"Historique de vos pourboires"))),r.a.createElement(f.a,{class:"table-responsive"},r.a.createElement(X.a,{striped:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Montant"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Serveur"),r.a.createElement("th",null,"Restaurant"))),r.a.createElement("tbody",null,this.display()))))}}]),a}(n.Component)),K=(a(120),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).change=function(e){var t=n.state.client;t[e.target.name]=e.target.value,n.setState({client:t})},n.postDataClient=function(){var e=new Headers({"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}),t={userId:localStorage.getItem("userId")},a={method:"POST",body:JSON.stringify(t),headers:e};fetch("https://back-end.osc-fr1.scalingo.io/client/getDataClient",a).then((function(e){return e.json()})).then((function(e){var t=e;n.setState({client:t,object:t}),console.log(n.state)}),(function(e){console.log(e)}))},n.editClient=function(e){e.preventDefault();var t={userId:localStorage.getItem("userID"),client:n.state.client},a=new Headers({"Content-Type":"application/json",Authorization:"bearer "+localStorage.getItem("token")}),r={method:"PUT",body:JSON.stringify(t),headers:a};fetch("https://back-end.osc-fr1.scalingo.io/client/edit",r).then((function(e){return e.json()})).then((function(e){n.setState({message:e.message})}),(function(e){console.log(e)}))},n.state={client:{}},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.postDataClient()}},{key:"render",value:function(){return r.a.createElement("div",{className:"bloc-modifierProfil"},r.a.createElement(f.a,null,r.a.createElement(g.a,{md:12,className:"titreModif"},r.a.createElement("h1",null,"Modification du profil"),r.a.createElement(p.a,null,r.a.createElement(p.a.Group,{controlId:"formGroupName"},r.a.createElement(p.a.Control,{name:"lastname",type:"text",placeholder:"Nom",onChange:this.change,value:this.state.client.lastname})),r.a.createElement(p.a.Group,{controlId:"formGroupPrenom"},r.a.createElement(p.a.Control,{name:"firstname",type:"text",placeholder:"Pr\xe9nom",onChange:this.change,value:this.state.client.firstname})),r.a.createElement(p.a.Group,{controlId:"formAdresse"},r.a.createElement(p.a.Control,{as:"select",type:"text",placeholder:"Sexe",name:"gender",onChange:this.change,value:this.state.client.gender},r.a.createElement("option",null,"-"),r.a.createElement("option",null,"Femme"),r.a.createElement("option",null,"Homme"))),r.a.createElement(p.a.Group,{controlId:"formVille"},r.a.createElement(p.a.Control,{type:"text",placeholder:"Ville",name:"adress",onChange:this.change,value:this.state.client.adress})),r.a.createElement(p.a.Group,{controlId:"formTel"},r.a.createElement(p.a.Control,{type:"text",placeholder:"Telephone(Facultatif)",name:"phone",onChange:this.change,value:this.state.client.phone})),r.a.createElement(p.a.Group,{controlId:"formAge"},r.a.createElement(p.a.Control,{type:"text",placeholder:"Age",name:"age",onChange:this.change,value:this.state.client.age}))),r.a.createElement(d.a,{className:"submitButton",variant:"primary",type:"submit",onClick:this.editClient},"Mettre \xe0 jour mon profil"),r.a.createElement("br",null),this.state.message)))}}]),a}(n.Component)),$=(a(121),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInput=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.postInfoCard=function(){var e=new Headers({"Content-Type":"application/json"}),t={firstname:n.state.firstname,lastname:n.state.lastname,email:n.state.email},a={method:"POST",headers:e,body:JSON.stringify(t)};fetch("https://back-end.osc-fr1.scalingo.io/client/TipUser",a).then((function(e){return e.json()})).then((function(e){localStorage.setItem("@data",JSON.stringify(e)),localStorage.setItem("@dataFirstName",n.state.firstname),localStorage.setItem("@dataLastName",n.state.lastname),localStorage.setItem("@dataMail",n.state.email)})),n.props.history.push("/TipCommun1"+window.location.search)},n.state={},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(h.a,{className:"mainBlocCommun"},r.a.createElement(f.a,null,r.a.createElement(g.a,{className:"blocCommun",xs:12,s:12,md:12},r.a.createElement("p",{className:"titleCommun"},"Information client")),r.a.createElement(g.a,{className:"formCommun",xs:12,s:12,md:12},r.a.createElement(p.a,{className:"formCommun"},r.a.createElement(p.a.Group,{className:"formCommunGrp",controlId:"formGroupAmount"},r.a.createElement(p.a.Control,Object(u.a)({className:"formMail",name:"email",type:"text",placeholder:"E-Mail",onChange:this.handleInput,value:this.state.email},"className","inputPaymentTips")),r.a.createElement(p.a.Control,{name:"lastname",type:"text",placeholder:"Nom",onChange:this.handleInput,value:this.state.lastname,className:"inputPaymentTips"}),r.a.createElement(p.a.Control,{name:"firstname",type:"text",placeholder:"Pr\xe9nom",onChange:this.handleInput,value:this.state.firstname,className:"inputPaymentTips"}))),r.a.createElement("img",{className:"mangoImgResp mangoImgNormal",src:"/logoTTT/mangoPay.png"})),r.a.createElement(g.a,{className:"ButtonCol",xs:12,s:12,md:12},r.a.createElement(d.a,{className:"communButton",onClick:this.postInfoCard},"Continuer vers la page de paiement"))))}}]),a}(n.Component)),Y=a(47),ee=a(70),te=a(40),ae=a(69),ne=a(66),re=a.n(ne),oe=a(67),le=a.n(oe);a(142),a(143);function ce(){var e=Object(n.useState)(!1),t=Object(Y.a)(e,2),a=t[0],o=t[1],l=Object(n.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return o(!a)},style:{backgroundColor:"rgba(52, 52, 52, 0.0)",borderColor:"rgba(52, 52, 52, 0.0)"},ref:l},r.a.createElement(ae.a,{style:{color:"black"}})),r.a.createElement(ee.a,{target:l.current,show:a,placement:"right"},(function(e){return r.a.createElement(te.a,Object.assign({id:"popover-basic"},e),r.a.createElement(te.a.Title,{as:"h3",style:{textAlign:"center"}},"Paiements s\xe9curis\xe9s"),r.a.createElement(te.a.Content,{style:{textAlign:"left"}},"Tous les paiements effectu\xe9s sur Tipourboire sont crypt\xe9s. ",r.a.createElement("br",null),"Ils sont g\xe9r\xe9s par MangoPay, notre partenaire de confiance.",r.a.createElement("br",null)," Leur technologie s\xe9curis\xe9e nous permet d'\xeatre assur\xe9s que le montant regl\xe9 pour une transaction est bien envoy\xe9 et re\xe7u par le(s) serveur(s)."))})))}function se(e){var t=Object(I.f)(),a=e.onHide,o=Object(n.useState)(!1),l=Object(Y.a)(o,2),c=(l[0],l[1],localStorage.getItem("amount")),s=JSON.parse(localStorage.getItem("@data"));return r.a.createElement(S.a,Object.assign({},e,{centered:!0,backdrop:"static"}),r.a.createElement(S.a.Header,{style:{borderBlockColor:"#f5a624"}},r.a.createElement("img",{style:{width:150,height:150},src:"/logoTTT/icone.png"}),r.a.createElement("h3",{style:{marginTop:20,textAlign:"center",color:"#f5a624"}},"Tipourboire le pourboire digital !")),r.a.createElement("h3",{style:{textAlign:"center",marginTop:25}},"R\xe9capitulatif du pourboire"),r.a.createElement(S.a.Body,null,r.a.createElement("p",null,"Montant du pourboire: ",c," \u20ac",r.a.createElement("br",null),"Protection Bonne Attribution: ",.016*c+.1," \u20ac",r.a.createElement(ce,null),r.a.createElement("br",null),r.a.createElement("p",{style:{fontWeight:"bolder"}},"Total pr\xe9lev\xe9: ",Number(c)+(.016*Number(c)+.1)," \u20ac"))),r.a.createElement(S.a.Title,{id:"contained-modal-title-center"},r.a.createElement("h3",{style:{textAlign:"center"}},"Information de facturation")),r.a.createElement(S.a.Body,null,r.a.createElement("p",null,r.a.createElement("br",null),"Pr\xe9nom : ",localStorage.getItem("@dataFirstName"),r.a.createElement("br",null),"Nom: ",localStorage.getItem("@dataLastName"),r.a.createElement("br",null),"E-mail: ",localStorage.getItem("@dataMail"))),r.a.createElement(S.a.Footer,{style:{borderBlockColor:"#f5a624"}},r.a.createElement(d.a,{className:"buttonModalPayout",onClick:function(){le()({method:"post",url:s.CardRegistrationURL,data:re.a.stringify({cardRegistrationId:s.Id,accessKeyRef:s.AccessKey,data:s.PreregistrationData,cardNumber:localStorage.getItem("cardNumber"),cardExpirationDate:localStorage.getItem("expDate").replace(/[^a-zA-Z0-9]/g,""),cardCvx:localStorage.getItem("cvx")}),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(e){var n=new Headers({"Content-Type":"application/json"}),r={walletID:localStorage.getItem("walletID"),amount:Number(c)+(.016*Number(c)+.1),cardRegistrationId:s.Id,registrationData:e.data},o={method:"POST",headers:n,body:JSON.stringify(r)};fetch("https://back-end.osc-fr1.scalingo.io/client/payin",o).then((function(e){return e.json()})).then((function(e){"param_error"===e.Type?(window.alert("Une erreur s'est produite, veuillez r\xe9essayer"),localStorage.removeItem("cardNumber"),localStorage.removeItem("cvx"),localStorage.removeItem("expDate"),function(){var e=new Headers({"Content-Type":"application/json"}),t={firstname:localStorage.getItem("@dataFirstName"),lastname:localStorage.getItem("@dataLastName"),email:localStorage.getItem("@dataMail")},a={method:"POST",headers:e,body:JSON.stringify(t)};fetch("https://back-end.osc-fr1.scalingo.io/client/TipUser",a).then((function(e){return e.json()})).then((function(e){localStorage.setItem("@data",JSON.stringify(e))}))}(),a()):(window.confirm("Merci pour votre pourboire. \xc0 bient\xf4t dans nos restaurants partenaires."),t.push("/CommentairesReferent"+window.location.search))}))}))},style:{backgroundColor:"#f5a624",border:"none"}},"Payer"),r.a.createElement(d.a,{className:"buttonModalPayout",style:{backgroundColor:"#f5a624",border:"none"},onClick:e.onHide},"Annuler"),r.a.createElement("img",{className:"imgMango",src:"/logoTTT/mangoPay.png"})))}var ie=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInput=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.payin=function(){},n.getWalletId=function(){var e=new Headers({"Content-Type":"application/json"}),t={_id:localStorage.getItem("@idRestaurant")},a={method:"POST",headers:e,body:JSON.stringify(t)};fetch("https://back-end.osc-fr1.scalingo.io/client/getWalletId",a).then((function(e){return e.json()})).then((function(e){n.setState({walletID:e}),n.setState({message:e.message}),localStorage.setItem("walletID",e),console.log(e.ResultMessage)}))},n.state={data:{},resultat:{},walletID:"",modal:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getWalletId(),console.log("JSON"),this.setState({data:JSON.parse(localStorage.getItem("@data"))}),console.log(JSON.parse(localStorage.getItem("@data")))}},{key:"render",value:function(){var e=this,t=/^(0?[1-9]|1[012])[\/\-]\d{2}$/;return r.a.createElement(h.a,{className:"mainBlocCommun"},r.a.createElement(f.a,null,r.a.createElement(g.a,{className:"blocCommun",xs:12,s:12,md:12},r.a.createElement("p",{className:"titleCommun"},"Paiement du pourboire"),r.a.createElement("h5",{className:"tipsMin"},"Le tips doit \xeatre de 1 euros minimum !")),r.a.createElement(g.a,{className:"formCommun",xs:12,s:12,md:12},r.a.createElement(p.a,{className:"formCommun"},r.a.createElement(p.a.Group,{className:"formCommunGrp",controlId:"formGroupAmount"},r.a.createElement(p.a.Control,{name:"amount",type:"number",placeholder:"Montant du Don G\xe9n\xe9ral",onChange:this.handleInput,className:"inputPaymentTips"}),r.a.createElement(p.a.Control,{name:"cardNumber",type:"text",placeholder:"Num\xe9ro de carte bleu",onChange:this.handleInput,className:"inputPaymentTips"}),r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(p.a.Control,{name:"cardExpirationDate",type:"text",placeholder:"MM/AA",onChange:this.handleInput,className:"inputPaymentTipsCol"})),r.a.createElement(g.a,null,r.a.createElement(p.a.Control,{name:"cardCvx",type:"text",placeholder:"CVC ",onChange:this.handleInput,className:"inputPaymentTipsCol"})))),r.a.createElement(g.a,{className:"ButtonCol",xs:12,s:12,md:12},r.a.createElement(d.a,{className:"communButtonVal",onClick:function(){e.state.cardNumber&&e.state.cardExpirationDate&&e.state.cardCvx?0==t.test(e.state.cardExpirationDate)?alert("Une erreur s'est produite, veuillez v\xe9rifier le format de votre date d'expiration MM/AA : (ex : 06/22)."):e.state.amount<1||!e.state.amount?alert("Le pourboire minimum est de 1 euro"):(e.setState({modal:!0}),localStorage.setItem("amount",e.state.amount),localStorage.setItem("cardNumber",e.state.cardNumber),localStorage.setItem("cvx",e.state.cardCvx),localStorage.setItem("expDate",e.state.cardExpirationDate)):alert("Veuillez remplir tout les champs du formulaire.")}},"Payer"),r.a.createElement("img",{className:"imgMango bottomMango",src:"/logoTTT/mangoPay.png"})))),r.a.createElement(se,{show:this.state.modal,onHide:function(){return e.setState({modal:!1})}})))}}]),a}(n.Component),me=(a(146),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInput=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.postInfoCard=function(){var e=new Headers({"Content-Type":"application/json"}),t={firstname:n.state.firstname,lastname:n.state.lastname,email:n.state.email},a={method:"POST",headers:e,body:JSON.stringify(t)};fetch("https://back-end.osc-fr1.scalingo.io/client/TipUser",a).then((function(e){return e.json()})).then((function(e){localStorage.setItem("@dataIndiv",JSON.stringify(e)),localStorage.setItem("@dataFirstNameIndiv",n.state.firstname),localStorage.setItem("@dataLastNameIndiv",n.state.lastname),localStorage.setItem("@dataMailIndiv",n.state.email)})),n.props.history.push("/paiement-s\xe9curis\xe9-tipourboire"+window.location.search)},n.state={},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(h.a,{className:"mainBlocCommun"},r.a.createElement(f.a,null,r.a.createElement(g.a,{className:"blocCommun",xs:12,s:12,md:12},r.a.createElement("p",{className:"titleCommun"},"Information client")),r.a.createElement(g.a,{className:"formCommun",xs:12,s:12,md:12},r.a.createElement(p.a,{className:"formCommun"},r.a.createElement(p.a.Group,{className:"formCommunGrp",controlId:"formGroupAmount"},r.a.createElement(p.a.Control,Object(u.a)({className:"formMail",name:"email",type:"text",placeholder:"E-Mail",onChange:this.handleInput,value:this.state.email},"className","inputPaymentTips")),r.a.createElement(p.a.Control,{name:"lastname",type:"text",placeholder:"Nom",onChange:this.handleInput,value:this.state.lastname,className:"inputPaymentTips"}),r.a.createElement(p.a.Control,{name:"firstname",type:"text",placeholder:"Pr\xe9nom",onChange:this.handleInput,value:this.state.firstname,className:"inputPaymentTips"}))),r.a.createElement("img",{className:"mangoImgResp mangoImgNormal",src:"/logoTTT/mangoPay.png"})),r.a.createElement(g.a,{className:"ButtonCol",xs:12,s:12,md:12},r.a.createElement(d.a,{className:"communButton",onClick:this.postInfoCard},"Continuer vers la page de paiement"))))}}]),a}(n.Component));a(147);function ue(){var e=Object(n.useState)(!1),t=Object(Y.a)(e,2),a=t[0],o=t[1],l=Object(n.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return o(!a)},style:{backgroundColor:"rgba(52, 52, 52, 0.0)",borderColor:"rgba(52, 52, 52, 0.0)"},ref:l},r.a.createElement(ae.a,{style:{color:"black"}})),r.a.createElement(ee.a,{target:l.current,show:a,placement:"right"},(function(e){return r.a.createElement(te.a,Object.assign({id:"popover-basic"},e),r.a.createElement(te.a.Title,{as:"h3",style:{textAlign:"center"}},"Paiements s\xe9curis\xe9s"),r.a.createElement(te.a.Content,{style:{textAlign:"left"}},"Tous les paiements effectu\xe9s sur Tipourboire sont crypt\xe9s. ",r.a.createElement("br",null),"Ils sont g\xe9r\xe9s par MangoPay, notre partenaire de confiance.",r.a.createElement("br",null)," Leur technologie s\xe9curis\xe9e nous permet d'\xeatre assur\xe9s que le montant regl\xe9 pour une transaction est bien envoy\xe9 et re\xe7u par le(s) serveur(s)."))})))}function pe(e){var t=Object(I.f)(),a=e.onHide,o=Object(n.useState)(!1),l=Object(Y.a)(o,2),c=(l[0],l[1],localStorage.getItem("amountIndiv")),s=JSON.parse(localStorage.getItem("@dataIndiv")),i=.016*c+.1,m=Number(c)+(.016*Number(c)+.1);return Object(n.useEffect)((function(){}),[]),r.a.createElement(S.a,Object.assign({},e,{centered:!0,backdrop:"static"}),r.a.createElement(S.a.Header,{style:{borderBlockColor:"#f5a624"}},r.a.createElement("img",{style:{width:150,height:150},src:"/logoTTT/icone.png"}),r.a.createElement("h3",{style:{marginTop:20,textAlign:"center",color:"#f5a624"}},"Tipourboire le pourboire digital !")),r.a.createElement("h3",{style:{textAlign:"center",marginTop:25}},"R\xe9capitulatif du pourboire"),r.a.createElement(S.a.Body,null,r.a.createElement("p",null,"Montant du pourboire: ",c," \u20ac",r.a.createElement("br",null),"Protection Bonne Attribution: ",i.toFixed(2)," \u20ac",r.a.createElement(ue,null),r.a.createElement("br",null),r.a.createElement("p",{style:{fontWeight:"bolder"}},"Total pr\xe9lev\xe9: ",m.toFixed(2)," \u20ac"))),r.a.createElement(S.a.Title,{id:"contained-modal-title-center"},r.a.createElement("h3",{style:{textAlign:"center"}},"Information de facturation")),r.a.createElement(S.a.Body,null,r.a.createElement("p",null,r.a.createElement("br",null),"Pr\xe9nom : ",localStorage.getItem("@dataFirstNameIndiv"),r.a.createElement("br",null),"Nom: ",localStorage.getItem("@dataLastNameIndiv"),r.a.createElement("br",null),"E-mail: ",localStorage.getItem("@dataMailIndiv"))),r.a.createElement(S.a.Footer,{style:{borderBlockColor:"#f5a624"}},r.a.createElement(d.a,{className:"buttonModalPayout",onClick:function(){le()({method:"post",url:s.CardRegistrationURL,data:re.a.stringify({cardRegistrationId:s.Id,accessKeyRef:s.AccessKey,data:s.PreregistrationData,cardNumber:localStorage.getItem("cardNumberIndiv"),cardExpirationDate:localStorage.getItem("expDateIndiv").replace(/[^a-zA-Z0-9]/g,""),cardCvx:localStorage.getItem("cvxIndiv")}),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(e){var n=new Headers({"Content-Type":"application/json"}),r={emailServeur:localStorage.getItem("@mailServeur"),walletID:localStorage.getItem("walletIDIndiv"),amount:Number(c)+(.016*Number(c)+.1),cardRegistrationId:s.Id,registrationData:e.data},o={method:"POST",headers:n,body:JSON.stringify(r)};fetch("https://back-end.osc-fr1.scalingo.io/client/payin-indiv"+window.location.search,o).then((function(e){return e.json()})).then((function(e){"param_error"===e.Type?(window.alert("Une erreur s'est produite, veuillez r\xe9essayer."),localStorage.clear(),a()):(localStorage.clear(),window.confirm("Merci pour votre pourboire. \xc0 bient\xf4t dans nos restaurants partenaires."),t.push("/Commentaires"+window.location.search))}))}))},style:{backgroundColor:"#f5a624",border:"none"}},"Payer"),r.a.createElement(d.a,{className:"buttonModalPayout",style:{backgroundColor:"#f5a624",border:"none"},onClick:e.onHide},"Annuler"),r.a.createElement("img",{className:"imgMango",src:"/logoTTT/mangoPay.png"})))}var de=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInput=function(e){n.setState(Object(u.a)({},e.target.name,e.target.value))},n.payin=function(){},n.getWalletId=function(){var e=new Headers({"Content-Type":"application/json"}),t={_id:localStorage.getItem("@idRestaurant")},a={method:"POST",headers:e,body:JSON.stringify(t)};fetch("https://back-end.osc-fr1.scalingo.io/client/getWalletId",a).then((function(e){return e.json()})).then((function(e){n.setState({walletID:e}),n.setState({message:e.message}),localStorage.setItem("walletIDIndiv",e)}))},n.state={data:{},resultat:{},walletID:"",modal:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({data:JSON.parse(localStorage.getItem("@data"))})}},{key:"render",value:function(){var e=this,t=/^(0?[1-9]|1[012])[\/\-]\d{2}$/;return r.a.createElement(h.a,{className:"mainBlocCommun"},r.a.createElement(f.a,null,r.a.createElement(g.a,{className:"blocCommun",xs:12,s:12,md:12},r.a.createElement("p",{className:"titleCommun"},"Paiement du pourboire"),r.a.createElement("h5",{className:"tipsMin"},"Le tips doit \xeatre de 1 euros minimum !")),r.a.createElement(g.a,{className:"formCommun",xs:12,s:12,md:12},r.a.createElement(p.a,{className:"formCommun"},r.a.createElement(p.a.Group,{className:"formCommunGrp",controlId:"formGroupAmount"},r.a.createElement(p.a.Control,{name:"amount",type:"number",placeholder:"Montant du Don G\xe9n\xe9ral",onChange:this.handleInput,className:"inputPaymentTips"}),r.a.createElement(p.a.Control,{name:"cardNumber",type:"text",placeholder:"Num\xe9ro de carte bleu",onChange:this.handleInput,className:"inputPaymentTips"}),r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(p.a.Control,{name:"cardExpirationDate",type:"text",placeholder:"MM/AA",onChange:this.handleInput,className:"inputPaymentTipsCol"})),r.a.createElement(g.a,null,r.a.createElement(p.a.Control,{name:"cardCvx",type:"text",placeholder:"CVC ",onChange:this.handleInput,className:"inputPaymentTipsCol"})))),r.a.createElement(g.a,{className:"ButtonCol",xs:12,s:12,md:12},r.a.createElement(d.a,{className:"communButtonVal",onClick:function(){e.state.cardNumber&&e.state.cardExpirationDate&&e.state.cardCvx?0==t.test(e.state.cardExpirationDate)?alert("Une erreur s'est produite, veuillez v\xe9rifier le format de votre date d'expiration MM/AA : (ex : 06/22)."):e.state.amount<1||!e.state.amount?alert("Le pourboire minimum est de 1 euro"):(e.setState({modal:!0}),localStorage.setItem("amount",e.state.amount),localStorage.setItem("cardNumber",e.state.cardNumber),localStorage.setItem("cvx",e.state.cardCvx),localStorage.setItem("expDate",e.state.cardExpirationDate)):alert("Veuillez remplir tout les champs du formulaire.")}},"Payer"),r.a.createElement("img",{className:"imgMango bottomMango",src:"/logoTTT/mangoPay.png"})))),r.a.createElement(pe,{show:this.state.modal,onHide:function(){return e.setState({modal:!1})}})))}}]),a}(n.Component),he=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(p.a.Group,{controlId:"formGroupAmount"},r.a.createElement(p.a.Control,{name:"email",type:"text",placeholder:"E-Mail",onChange:this.change,value:this.state.amount}),r.a.createElement(p.a.Control,{name:"name",type:"text",placeholder:"Nom",onChange:this.change,value:this.state.amount}),r.a.createElement(p.a.Control,{name:"firstname",type:"text",placeholder:"Pr\xe9nom",onChange:this.change,value:this.state.amount}),r.a.createElement(p.a.Control,{name:"birthday",type:"date",placeholder:"Date de naissance",onChange:this.change,value:this.state.amount}))))}}]),a}(n.Component),fe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).setLogin=function(e){n.setState({login:e})},n.state={login:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){null!=localStorage.getItem("token")&&this.setState({login:!0})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(b.a,null,r.a.createElement(M,{setLogin:this.setLogin,login:this.state.login}),r.a.createElement(I.c,null,r.a.createElement(I.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(y,Object.assign({setLogin:e.setLogin},t))}}),r.a.createElement(I.a,{path:"/Inscription",exact:!0,component:E}),r.a.createElement(I.a,{path:"/Profil",exact:!0,component:N}),r.a.createElement(I.a,{path:"/Home",exact:!0,component:j}),r.a.createElement(I.a,{path:"/ListeServeurs",exact:!0,component:P}),r.a.createElement(I.a,{path:"/Payment",exact:!0,component:z}),r.a.createElement(I.a,{path:"/menu",exact:!0,component:U}),r.a.createElement(I.a,{path:"/Commentaires",exact:!0,component:W}),r.a.createElement(I.a,{path:"/CommentairesReferent",exact:!0,component:Q}),r.a.createElement(I.a,{path:"/passwordReset",exact:!0,component:F}),r.a.createElement(I.a,{path:"/passwordRenew",exact:!0,component:_}),r.a.createElement(I.a,{path:"/Historique",exact:!0,component:Z}),r.a.createElement(I.a,{path:"/TipCommun",exact:!0,component:$}),r.a.createElement(I.a,{path:"/TipCommun1",exact:!0,component:ie}),r.a.createElement(I.a,{path:"/information-client",exact:!0,component:me}),r.a.createElement(I.a,{path:"/paiement-s\xe9curis\xe9-tipourboire",exact:!0,component:de}),r.a.createElement(I.a,{path:"/MangoCards",exact:!0,component:he}),r.a.createElement(I.a,{path:"/modifierMonProfil",exact:!0,component:K})),r.a.createElement(O,null)))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},82:function(e,t,a){},95:function(e,t,a){e.exports=a(148)}},[[95,1,2]]]);
//# sourceMappingURL=main.a9661913.chunk.js.map